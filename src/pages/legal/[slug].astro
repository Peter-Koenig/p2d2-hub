---
import Prose from "/src/components/Prose.astro";
import styled from "styled-components";

import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const { slug } = Astro.params;
const legalEntries = await getCollection("legal");

// Slug-Mapping: z.B. /legal/datenschutz â†’ datenschutz.md
const entry = legalEntries.find((item) => item.slug === slug);

if (!entry) {
    throw new Error("Legal-Eintrag nicht gefunden");
}
const { Content } = await entry.render();
---

<BaseLayout>
    <article class="prose prose-lg mx-auto my-8">
        <Content />
    </article>
</BaseLayout>
